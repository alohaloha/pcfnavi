# ブログ機能実装記録

## 概要

NotionデータベースをCMSとして利用し、ブログ機能を実装。
記事の一覧表示、詳細表示、カテゴリ分類などの基本的なブログ機能を提供。

## 実装内容

### 1. Notion連携の基盤構築

- API設定の実装
    - NOTION_API_URL
    - NOTION_API_SECRET
    - NOTION_VERSION
    - NOTION_BLOG_DB_ID
- 環境変数での秘密情報管理
- Notionデータベースとの接続確認

### 2. API実装

#### ブログ一覧取得API (`/api/blog/route.ts`)

- Notionデータベースからの記事一覧取得
- レスポンスデータの整形
- キャッシュ制御（1時間）
- エラーハンドリング

#### ブログ詳細取得API (`/api/blog/[id]/route.ts`)

- 個別記事データの取得
- ブロックデータの取得
- レスポンスデータの整形
- キャッシュ制御
- エラーハンドリング

### 3. フロントエンド実装

#### ブログ一覧ページ

- カード形式での記事表示
- カテゴリバッジの実装
    - Tailwindによるスタイリング
    - カラーパレットの統一
- 新着・注目記事の表示機能

#### ブログ詳細ページ

- 動的ルーティング実装
- メタデータの動的生成
    - タイトル
    - 説明
    - OGP情報
- Notionブロックの表示
- エラー時の404ページ表示

### 4. 最適化とデバッグ

- 不要なデバッグコードの削除
- Next.js 15対応
    - 非同期パラメータ処理の実装
    - TypeScript型定義の更新
- パフォーマンス最適化
    - キャッシュ戦略の実装
    - 静的生成の活用

## 技術スタック

- Next.js (App Router)
- TypeScript
- Notion API
- TailwindCSS
- shadcn/ui

## 学んだこと

1. Next.js 15での非同期パラメータ処理
2. NotionAPIを使用したCMS実装
3. 効率的なキャッシュ戦略
4. 型安全なAPI実装 